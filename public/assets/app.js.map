{"mappings":"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","sources":["_assets/js/menu-button.js","node_modules/has-tabbed/has-tabbed.js","_assets/js/app.js"],"sourcesContent":["// Taken from\n// https://github.com/Heydon/inclusive-menu-button\n// I just added support for <a> elements\n\n// Constructor\nexport default function MenuButton(button, options) {\n  options = options || {}\n\n  // The default settings\n  this.settings = {\n    checkable: 'none'\n  }\n\n  // Overwrite defaults where they are provided in options\n  for (var setting in options) {\n    if (options.hasOwnProperty(setting)) {\n      this.settings[setting] = options[setting]\n    }\n  }\n\n  // Save a reference to the element\n  this.button = button\n\n  // Add (initial) button semantics\n  this.button.setAttribute('aria-haspopup', true)\n  this.button.setAttribute('aria-expanded', false)\n\n  // Get the menu\n  this.menuId = this.button.getAttribute('data-inclusive-menu-opens')\n  this.menu = document.getElementById(this.menuId)\n\n  // If the menu doesn't exist\n  // exit with an error referencing the missing\n  // menu's id\n  if (!this.menu) {\n    throw new Error('Element `#' + this.menuId + '` not found.')\n  }\n\n  // Add menu semantics\n  this.menu.setAttribute('role', 'menu')\n\n  // Hide menu initially\n  this.menu.hidden = true\n\n  // Get the menu item buttons\n  this.menuItems = this.menu.querySelectorAll('button, a')\n\n  if (this.menuItems.length < 1) {\n    throw new Error('The #' + this.menuId + ' menu has no menu items')\n  }\n\n  this.firstItem = this.menuItems[0]\n  this.lastItem = this.menuItems[this.menuItems.length - 1]\n\n  var focusNext = function (currentItem, startItem) {\n    // Determine which item is the startItem (first or last)\n    var goingDown = startItem === this.firstItem\n\n    // helper function for getting next legitimate element\n    function move(elem) {\n      return (goingDown ? elem.nextElementSibling : elem.previousElementSibling) || startItem\n    }\n\n    // make first move\n    var nextItem = move(currentItem)\n\n    // if the menuitem is disabled move on\n    while (nextItem.disabled) {\n      nextItem = move(nextItem)\n    }\n\n    // focus the first one that's not disabled\n    nextItem.focus()\n  }.bind(this)\n\n  Array.prototype.forEach.call(this.menuItems, function (menuItem) {\n    // Disable menu button if all menu items are disabled\n    var active = Array.prototype.filter.call(this.menuItems, function (item) {\n      return !item.disabled\n    })\n    if (active.length < 1) {\n      this.button.disabled = true\n      return\n    }\n\n    // Add menu item semantics\n    if (this.settings.checkable === 'one') {\n      menuItem.setAttribute('role', 'menuitemradio')\n    } else if (this.settings.checkable === 'many') {\n      menuItem.setAttribute('role', 'menuitemcheckbox')\n    } else {\n      menuItem.setAttribute('role', 'menuitem')\n    }\n\n    // Prevent tab focus on menu items\n    menuItem.setAttribute('tabindex', '-1')\n\n    // Handle key presses for menuItem\n    menuItem.addEventListener('keydown', function (e) {\n      // Go to next/previous item if it exists\n      // or loop around\n\n      if (e.keyCode === 40) {\n        e.preventDefault()\n        focusNext(menuItem, this.firstItem)\n      }\n\n      if (e.keyCode === 38) {\n        e.preventDefault()\n        focusNext(menuItem, this.lastItem)\n      }\n\n      // Close on escape or tab\n      if (e.keyCode === 27 || e.keyCode === 9) {\n        this.toggle()\n      }\n\n      // If escape, refocus menu button\n      if (e.keyCode === 27) {\n        e.preventDefault()\n        this.button.focus()\n      }\n    }.bind(this))\n\n    menuItem.addEventListener('click', function (e) {\n      // pass menu item node to select method\n      this.choose(menuItem)\n\n      // close menu and focus menu button\n      this.close()\n      this.button.focus()\n    }.bind(this))\n  }.bind(this))\n\n  // Handle button click\n  this.button.addEventListener('click', this.toggle.bind(this))\n\n  // Also toggle on down arrow\n  this.button.addEventListener('keydown', function (e) {\n    if (e.keyCode === 40) {\n      if (this.menu.hidden) {\n        this.open()\n      } else {\n        this.menu.querySelector(':not([disabled])').focus()\n      }\n    }\n\n    // close menu on up arrow\n    if (e.keyCode === 38) {\n      this.close()\n    }\n  }.bind(this))\n\n  // initiate listeners object for public events\n  this._listeners = {}\n}\n\n// Open method\nMenuButton.prototype.open = function () {\n  this.button.setAttribute('aria-expanded', true)\n  this.menu.hidden = false\n\n  if (this.settings.checkable === 'one') {\n    var checked = this.menu.querySelector('[aria-checked=\"true\"]')\n  }\n  // Check the checked item if using menuitemradio\n  if (checked) {\n    checked.focus()\n  } else {\n    this.menu.querySelector('[role^=\"menuitem\"]:not([disabled])').focus()\n  }\n\n  this.outsideClick = function (e) {\n    if (!this.menu.contains(e.target) && !this.button.contains(e.target)) {\n      this.close()\n      document.removeEventListener('click', this.outsideClick.bind(this))\n    }\n  }.bind(this)\n\n  document.addEventListener('click', this.outsideClick.bind(this))\n\n  // fire open event\n  this._fire('open')\n\n  return this\n}\n\n// Close method\nMenuButton.prototype.close = function () {\n  this.button.setAttribute('aria-expanded', false)\n  this.menu.hidden = true\n\n  // fire open event\n  this._fire('close')\n\n  return this\n}\n\n// Toggle method\nMenuButton.prototype.toggle = function () {\n  var expanded = this.button.getAttribute('aria-expanded') === 'true'\n  return expanded ? this.close() : this.open()\n}\n\nMenuButton.prototype.choose = function (choice) {\n  if (this.settings.checkable === 'one') {\n    // Remove aria-checked from whichever item it's on\n    Array.prototype.forEach.call(this.menuItems, function (menuItem) {\n      menuItem.removeAttribute('aria-checked');\n    })\n\n    // Set aria-checked=\"true\" on the chosen item\n    choice.setAttribute('aria-checked', 'true')\n  }\n\n  if (this.settings.checkable === 'many') {\n    // check or uncheck item\n    var checked = choice.getAttribute('aria-checked') === 'true' || false\n    choice.setAttribute('aria-checked', !checked)\n  }\n\n  // fire open event\n  this._fire('choose', choice)\n\n  return this\n}\n\nMenuButton.prototype._fire = function (type, data) {\n  var listeners = this._listeners[type] || []\n\n  listeners.forEach(function (listener) {\n    listener(data)\n  })\n}\n\nMenuButton.prototype.on = function (type, handler) {\n  if (typeof this._listeners[type] === 'undefined') {\n    this._listeners[type] = []\n  }\n\n  this._listeners[type].push(handler)\n\n  return this\n}\n\nMenuButton.prototype.off = function (type, handler) {\n  var index = this._listeners[type].indexOf(handler)\n\n  if (index > -1) {\n    this._listeners[type].splice(index, 1)\n  }\n\n  return this\n}\n\n","'use strict';\n\n(function() {\n  var TAB_KEY_CODE = 9;\n  var DEFAULT_CLASSNAME = '--tabbed';\n\n  function HasTabbed(className) {\n    this.className = className || DEFAULT_CLASSNAME;\n\n    if (typeof document === 'undefined') {\n      // Server side rendering\n      return;\n    }\n\n    // Cache html class list\n    this.htmlClassList = document.querySelector('html').classList;\n\n    this.addEvents();\n  }\n\n  HasTabbed.prototype.addEvents = function() {\n    // Bind handlers\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n\n    window.addEventListener('keydown', this.handleKeyDown);\n    window.addEventListener('mousedown', this.handleClick);\n  };\n\n  HasTabbed.prototype.handleKeyDown = function(e) {\n    if (e.keyCode === TAB_KEY_CODE) {\n      this.htmlClassList.add(this.className);\n    }\n  };\n\n  HasTabbed.prototype.handleClick = function() {\n    this.htmlClassList.remove(this.className);\n  };\n\n  HasTabbed.prototype.removeEvents = function() {\n    this.htmlClassList.remove(this.className);\n    this.htmlClassList = null;\n\n    window.removeEventListener('keydown', this.handleKeyDown);\n    window.removeEventListener('mousedown', this.handleClick);\n  };\n\n\n  if (typeof module !== 'undefined' && module.exports) {\n    HasTabbed.default = HasTabbed;\n    module.exports = HasTabbed;\n  } else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) { // eslint-disable-line no-undef\n    // register as 'has-tabbed', consistent with npm package name\n    define('has-tabbed', [], function() { // eslint-disable-line no-undef\n      return HasTabbed;\n    });\n  } else if (typeof window !== 'undefined') {\n    window.HasTabbed = HasTabbed;\n  }\n}).call(this);\n","import '../sass/index.scss';\n\nimport MenuButton from './menu-button';\nimport HasTabbed from 'has-tabbed';\n\n\ndocument.documentElement.className = '';\nnew HasTabbed('--show-focus');\n\nconst languageSwitcherButton = document.querySelector('[data-inclusive-menu-opens]')\n\nif (languageSwitcherButton) {\n  new MenuButton(languageSwitcherButton)\n}\n\n\nfunction setVhUnit() {\n  const vh = window.innerHeight * 0.01;\n  document.documentElement.style.setProperty('--vh', `${ vh.toFixed(2) }px`);\n}\n\nwindow.addEventListener('resize', setVhUnit);\nsetVhUnit();\n"],"names":["$f28ed14f107500a9$export$2e2bcd8739ae039","button","options","setting","this","settings","checkable","hasOwnProperty","setAttribute","menuId","getAttribute","menu","document","getElementById","Error","hidden","menuItems","querySelectorAll","length","firstItem","lastItem","focusNext","currentItem","startItem","goingDown","move","elem","nextElementSibling","previousElementSibling","nextItem","disabled","focus","bind","Array","prototype","forEach","call","menuItem","filter","item","addEventListener","e","keyCode","preventDefault","toggle","choose","close","open","querySelector","_listeners","checked","outsideClick","contains","target","removeEventListener","_fire","choice","removeAttribute","type","data","listener","on","handler","push","off","index","indexOf","splice","DEFAULT_CLASSNAME","HasTabbed","className","htmlClassList","classList","addEvents","handleKeyDown","handleClick","window","add","remove","removeEvents","$3621a481ef6f476b$exports","default","define","amd","documentElement","$parcel$interopDefault","$9c5c151ce19e955c$var$languageSwitcherButton","$9c5c151ce19e955c$var$setVhUnit","vh","innerHeight","style","setProperty","toFixed"],"version":3,"file":"app.js.map"}